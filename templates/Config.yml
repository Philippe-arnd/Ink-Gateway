# Config.yml — Book Configuration Template
# Copy this file to: Global Material/Config.yml in each book repository.
# All fields are required. See comments for valid values.
#
# NOTE: The AI model is NOT configured here. It is set at the agent gateway
# level when registering the cron job (e.g., via --model or agent settings).
# All AI credentials are managed by the agent gateway.

# Language the engine must write in (e.g. English, French, Spanish, German).
language: English

# Target total length of the finished book in words.
# Standard novel: 80000–100000. Novella: 40000–60000.
target_length: 90000

# Total number of chapters planned for the book.
chapter_count: 30

# Prose structure within each chapter.
# Options: linear, multi-pov, vignette
chapter_structure: linear

# Words to generate per session.
# Also the size of the rolling context window in current.md.
# Adjust based on desired pace.
words_per_session: 1500

# Number of recent Summary.md paragraphs to include in context each session.
# Keeps input token usage bounded as the book grows.
summary_context_entries: 5

# Target words per chapter. Used to suggest chapter close (±10% threshold).
# When session-open detects the chapter is at or above 90% of this target, it sets
# chapter_close_suggested: true in the payload — the engine then calls advance-chapter.
words_per_chapter: 3000

# Maximum words from Review/current.md to include in the session payload.
# Limits token usage when the rolling window has grown large. Truncation happens
# at paragraph boundaries so prose context is never cut mid-sentence.
# Set to 0 for no limit (default — safe for all book sizes).
current_review_window_words: 0

# Approximate number of words per page for pagination markers in Full_Book.md.
# Standard paperback: 250. Large print: 150. Dense literary: 300.
words_per_page: 250

# Maximum wall-clock minutes a session lock is considered valid.
# If .ink-running is older than this, session-open treats it as a crashed/killed session
# and removes the stale lock automatically before proceeding.
# Set this to slightly above the longest session you expect (default: 60).
session_timeout_minutes: 60
